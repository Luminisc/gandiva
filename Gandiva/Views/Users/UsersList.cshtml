@model Gandiva.Models.UsersViewModel


<input id="pageMax" value="@ViewBag.Pages" hidden />

<div>
    <table class="tasks-table table-bordered">
        <thead>
            <tr>
                <th>№</th>
                <th>Фамилия</th>
                <th>Имя</th>
                <th>Отчество</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        @foreach (var user in Model.Users)
        {
            <tr>
                <td><form action="/Users/Index" method="post" id="Form @user.Id.ToString()">@Html.TextBox("Id", user.Id.ToString(), new { @readonly = "readonly" })</form></td>
                <td>@Html.TextBox("FirstName", user.FirstName, new { form = "Form " + @user.Id.ToString() })</td>
                <td>@Html.TextBox("SecondaryName", user.SecondaryName, new { form = "Form " + @user.Id.ToString() })</td>
                <td>@Html.TextBox("Surname", user.Surname, new { form = "Form " + @user.Id.ToString() })</td>
                <td><button name="action" value="save" form="Form @user.Id.ToString()">Сохранить</button></td>
                <td><button name="action" value="delete" form="Form @user.Id.ToString()">Удалить</button></td>
            </tr>
        }
    </table>
</div>
<div>
    <ul class="pagination page-control">
        <li><a href="javascript:window.app.prevPage()"><span class="glyphicon glyphicon-arrow-left"></span></a></li>
        @for (int i = 0; i < ViewBag.Pages; i++)
        {
            <li><a href="javascript:window.app.changePage(@i)"><span class="glyphicon glyphicon-one-fine-full-dot"></span></a></li>
        }
        <li><a href="javascript:window.app.nextPage()"><span class="glyphicon glyphicon-arrow-right"></span></a></li>
    </ul>
</div>
